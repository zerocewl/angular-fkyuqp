export class MaxAggregator {
    constructor(field) {
        this._field = field;
    }
    init() {
        this._max = null;
    }
    accumulate(item) {
        const val = (item && item.hasOwnProperty(this._field)) ? item[this._field] : null;
        if (val != null && val !== '' && !isNaN(val)) {
            if (this._max == null || val > this._max) {
                this._max = parseFloat(val);
            }
        }
    }
    storeResult(groupTotals) {
        if (!groupTotals || groupTotals.max === undefined) {
            groupTotals.max = {};
        }
        groupTotals.max[this._field] = this._max;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF4QWdncmVnYXRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItc2xpY2tncmlkLyIsInNvdXJjZXMiOlsiYXBwL21vZHVsZXMvYW5ndWxhci1zbGlja2dyaWQvYWdncmVnYXRvcnMvbWF4QWdncmVnYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8sYUFBYTtJQUl4QixZQUFZLEtBQXNCO1FBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFTO1FBQ2xCLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsRixJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUM1QyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUN4QyxJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM3QjtTQUNGO0lBQ0gsQ0FBQztJQUVELFdBQVcsQ0FBQyxXQUFnQjtRQUMxQixJQUFJLENBQUMsV0FBVyxJQUFJLFdBQVcsQ0FBQyxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ2pELFdBQVcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1NBQ3RCO1FBQ0QsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMzQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZ2dyZWdhdG9yIH0gZnJvbSAnLi8uLi9tb2RlbHMvYWdncmVnYXRvci5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1heEFnZ3JlZ2F0b3IgaW1wbGVtZW50cyBBZ2dyZWdhdG9yIHtcclxuICBwcml2YXRlIF9tYXg6IG51bWJlciB8IG51bGw7XHJcbiAgcHJpdmF0ZSBfZmllbGQ6IG51bWJlciB8IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoZmllbGQ6IG51bWJlciB8IHN0cmluZykge1xyXG4gICAgdGhpcy5fZmllbGQgPSBmaWVsZDtcclxuICB9XHJcblxyXG4gIGluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9tYXggPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgYWNjdW11bGF0ZShpdGVtOiBhbnkpIHtcclxuICAgIGNvbnN0IHZhbCA9IChpdGVtICYmIGl0ZW0uaGFzT3duUHJvcGVydHkodGhpcy5fZmllbGQpKSA/IGl0ZW1bdGhpcy5fZmllbGRdIDogbnVsbDtcclxuICAgIGlmICh2YWwgIT0gbnVsbCAmJiB2YWwgIT09ICcnICYmICFpc05hTih2YWwpKSB7XHJcbiAgICAgIGlmICh0aGlzLl9tYXggPT0gbnVsbCB8fCB2YWwgPiB0aGlzLl9tYXgpIHtcclxuICAgICAgICB0aGlzLl9tYXggPSBwYXJzZUZsb2F0KHZhbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0b3JlUmVzdWx0KGdyb3VwVG90YWxzOiBhbnkpIHtcclxuICAgIGlmICghZ3JvdXBUb3RhbHMgfHwgZ3JvdXBUb3RhbHMubWF4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgZ3JvdXBUb3RhbHMubWF4ID0ge307XHJcbiAgICB9XHJcbiAgICBncm91cFRvdGFscy5tYXhbdGhpcy5fZmllbGRdID0gdGhpcy5fbWF4O1xyXG4gIH1cclxufVxyXG4iXX0=